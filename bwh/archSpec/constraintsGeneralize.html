<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Conref and generalization for constraint modules"/>
<meta name="abstract" content="When documents use different constraints, conref and generalization processors may examine the @domains to verify compatibility between the document instances."/>
<meta name="description" content="When documents use different constraints, conref and generalization processors may examine the @domains to verify compatibility between the document instances."/>
<meta name="DC.Relation" scheme="URI" content="../archSpec/createConstraintsDomainSpec.html"/>
<meta name="DC.Relation" scheme="URI" content="../archSpec/constraintsDomainDesignPattern-xsd.html"/>
<meta name="DC.Relation" scheme="URI" content="../archSpec/constraint-module-examples.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="constraintsGeneralize"/>
<meta name="DC.Language" content="en-us"/>
<title>Conref and generalization for constraint modules</title>
</head>
<body id="constraintsGeneralize">


       <h1 class="title topictitle1">Conref and generalization for constraint modules</h1>

       
       <div class="body conbody"><p class="shortdesc">When documents use different constraints, conref and generalization processors may
              examine the @domains to verify compatibility between the document
              instances.</p>

              <div class="section"><h2 class="title sectiontitle">Conref compatibility with constraints</h2>
                     
                     
                     <p class="p">To determine compatibility between two document instances, a conref
                            processor can check the @domains attribute to confirm that </p>

                     <ul class="ul">
                            <li class="li">The referencing document has a superset of the vocabulary modules in
                                   the referenced document.</li>

                            <li class="li">For each vocabulary module in the referenced document, the
                                   referencing document qualifies the common module with a subset of
                                   the constraints in the referenced document.</li>

                     </ul>

                     <p class="p">Some examples:</p>

                     <table cellpadding="4" cellspacing="0" summary="" border="1" class="simpletable"><tr class="sthead">
                                   <th valign="bottom" align="left" id="d3733e42" class="stentry">Referencing</th>

                                   <th valign="bottom" align="left" id="d3733e45" class="stentry">Referenced</th>

                                   <th valign="bottom" align="left" id="d3733e48" class="stentry">Resolution</th>

                            </tr>
<tr class="strow">
                                   <td valign="top" headers="d3733e42" class="stentry"><samp class="ph codeph">(topic)</samp></td>

                                   <td valign="top" headers="d3733e45" class="stentry"><samp class="ph codeph">(topic shortdescReq-c)</samp></td>

                                   <td valign="top" headers="d3733e48" class="stentry"><strong class="ph b">Allowed</strong> - content model of referenced topic is
                                          more constrained</td>

                            </tr>
<tr class="strow">
                                   <td valign="top" headers="d3733e42" class="stentry"><samp class="ph codeph">(topic shortdescReq-c)</samp></td>

                                   <td valign="top" headers="d3733e45" class="stentry"><samp class="ph codeph">(topic)</samp></td>

                                   <td valign="top" headers="d3733e48" class="stentry"><strong class="ph b">Prevented</strong> - content model of referenced topic is
                                          less constrained</td>

                            </tr>
<tr class="strow">
                                   <td valign="top" headers="d3733e42" class="stentry"><samp class="ph codeph">(topic hi-d)</samp></td>

                                   <td valign="top" headers="d3733e45" class="stentry"><samp class="ph codeph">(topic hi-d basicHighlight-c)</samp></td>

                                   <td valign="top" headers="d3733e48" class="stentry"><strong class="ph b">Allowed</strong> - domain extension list of referenced
                                          document type shell is more constrained</td>

                            </tr>
<tr class="strow">
                                   <td valign="top" headers="d3733e42" class="stentry"><samp class="ph codeph">(topic hi-d basicHighlight-c)</samp></td>

                                   <td valign="top" headers="d3733e45" class="stentry"><samp class="ph codeph">(topic hi-d)</samp></td>

                                   <td valign="top" headers="d3733e48" class="stentry"><strong class="ph b">Prevented</strong> - domain extension list of referenced
                                          document type shell is less constrained.</td>

                            </tr>
<tr class="strow">
                                   <td valign="top" headers="d3733e42" class="stentry"><samp class="ph codeph">(topic hi-d)</samp></td>

                                   <td valign="top" headers="d3733e45" class="stentry"><samp class="ph codeph">(topic noBasePhrase-c) (topic
                                          hi-d)</samp></td>

                                   <td valign="top" headers="d3733e48" class="stentry"><strong class="ph b">Allowed</strong> - referencing document type shell doesn't
                                          replace base element with domain extensions.</td>

                            </tr>
<tr class="strow">
                                   <td valign="top" headers="d3733e42" class="stentry"><samp class="ph codeph">(topic noBasePhrase-c) (topic
                                          hi-d)</samp></td>

                                   <td valign="top" headers="d3733e45" class="stentry"><samp class="ph codeph">(topic hi-d)</samp></td>

                                   <td valign="top" headers="d3733e48" class="stentry"><strong class="ph b">Prevented</strong> - referencing document type shell does
                                          replace base element with domain extensions.</td>

                            </tr>
<tr class="strow">
                                   <td valign="top" headers="d3733e42" class="stentry"><samp class="ph codeph">(topic task) (topic hi-d
                                                 basicHighlight-c)</samp></td>

                                   <td valign="top" headers="d3733e45" class="stentry"><samp class="ph codeph">(topic simpleSection-c task
                                                 simpleTaskSection-c)</samp></td>

                                   <td valign="top" headers="d3733e48" class="stentry"><strong class="ph b">Allowed</strong> - referencing shell has a subset of the
                                          constraints of the referenced shell on the common
                                          vocabulary modules.</td>

                            </tr>
<tr class="strow">
                                   <td valign="top" headers="d3733e42" class="stentry"><samp class="ph codeph">(topic shortdescReq-c task shortdescTaskReq-c)
                                                 (topic hi-d basicHighlight-c)</samp></td>

                                   <td valign="top" headers="d3733e45" class="stentry"><samp class="ph codeph">(topic simpleSection-c task
                                                 simpleTaskSection-c)</samp></td>

                                   <td valign="top" headers="d3733e48" class="stentry"><strong class="ph b">Prevented</strong> - referencing shell has constraints on
                                          common vocabulary modules that aren't in the referenced
                                          shell.</td>

                            </tr>
</table>

              </div>

              <div class="section"><h2 class="title sectiontitle">Generalization and constraints</h2>
                     
                     <p class="p">Similarly, to determine compatibility between a document instance and a
                            target document type, a generalization processor can use the @domains
                            and @class attributes for the document instance and the @domains
                            attribute for the target document type to determine how to rename
                            elements in the document instance. For each element instance, the
                            generalization processor:</p>

                     <ul class="ul">
                            <li class="li">
                                   <p class="p">Iterates over the @class attribute on the element instance
                                          from specific to general, inspecting the vocabulary
                                          modules.</p>

                            </li>

                            <li class="li">
                                   <p class="p">Looks for the first vocabulary module that is both present in
                                          the target document type and that has a subset of the
                                          constraints in the document instance.</p>

                                   <p class="p">If a module is found in the target document type, that module
                                          becomes the minimum threshhold for the generalization of
                                          contained element instances.</p>

                                   <p class="p">If a module is not found, the document instance cannot be
                                          generalized to the target document type and, instead, can
                                          only be generalized to a less constrained document
                                          type.</p>

                            </li>

                     </ul>

                     <p class="p">Note that a document instance can always be converted from a constrained
                            document type to an unconstrained document type merely by switching the
                            binding of the document instance to the less restricted schema (which
                            would also have a different @domains attribute declaration). No renaming
                            of elements is needed to remove constraints.</p>

              </div>

       </div>

<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="- topic/link  ajaxLink" href="archSpec/createConstraintsDomainSpec.html" title="Constraint modules define additional constraints for corresponding vocabulary modules in order to restrict content models or attribute lists for specific element types, remove extension elements from an integrated domain module, or replace base element types with domain-provided extension element types. Constraint modules do not and cannot change element semantics, only the details of how element types can be used in the context of a specific concrete document type. Because constraints can make optional elements required, documents that use the same vocabulary modules may still have incompatible constraints. Thus the use of constraints can affect the ability for content from one topic or map to be used directly in another topic or map.">Constraints</a></div>
<div class="previouslink"><strong>Previous topic:</strong> <a class="- topic/link  ajaxLink" href="archSpec/constraintsDomainDesignPattern-xsd.html">Constraint module XSD coding requirements</a></div>
<div class="nextlink"><strong>Next topic:</strong> <a class="- topic/link  ajaxLink" href="archSpec/constraint-module-examples.html" title="This section provides examples of constraint declaration modules.">Examples of constraint declaration modules</a></div>
</div>
</div>

</body>
</html>