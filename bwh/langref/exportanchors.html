<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="reference"/>
<meta name="DC.Title" content="exportanchors"/>
<meta name="abstract" content="The &lt;exportanchors&gt; element is used to delay conref resolution within DITA documents. This allows you to process or display DITA content in a way that will resolve only some of the conref values in that content, while remaining values are left for later resolution. The element contains a list of IDs or keys that should not be resolved during the initial preparation of the content for display; those IDs and keys will be preserved after that preparation, as will the conref relationship itself."/>
<meta name="description" content="The &lt;exportanchors&gt; element is used to delay conref resolution within DITA documents. This allows you to process or display DITA content in a way that will resolve only some of the conref values in that content, while remaining values are left for later resolution. The element contains a list of IDs or keys that should not be resolved during the initial preparation of the content for display; those IDs and keys will be preserved after that preparation, as will the conref relationship itself."/>
<meta name="DC.subject" content="exportanchors"/>
<meta name="keywords" content="exportanchors"/>
<meta name="DC.Relation" scheme="URI" content="../common/delayconref-d.html"/>
<meta name="DC.Relation" scheme="URI" content="../langref/anchorid.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="exportanchors"/>
<meta name="DC.Language" content="en-us"/>
<title>exportanchors</title>
</head>
<body id="exportanchors">


<h1 class="title topictitle1">exportanchors</h1>



<div class="body refbody"><p class="shortdesc">The &lt;<span class="keyword">exportanchors</span>&gt; element is used
to delay conref resolution within DITA documents. This allows you
to process or display DITA content in a way that will resolve only
some of the conref values in that content, while remaining values
are left for later resolution. The element contains a list of IDs
or keys that should not be resolved during the initial preparation
of the content for display; those IDs and keys will be preserved after
that preparation, as will the conref relationship itself.</p>

<div class="section"><p class="p">The exportanchors element may be used within a topic prolog,
in which case the defined IDs apply to IDs within that topic (excluding
sub-topics). Alternatively it may be defined in the topicmeta in a
map. In the second case the IDs apply to the single topic referenced
by the current topicref element. If the topicref points to a file
without referencing a specific topic, it is treated as a reference
to the first or root topic. In order to define anchor ids for a topic
that is not the first or root topic, a topicref must directly reference
the desired sub-topic.</p>
<div class="note note"><span class="notetitle">Note:</span> When an element's
ID is defined for delayed resolution, it must contain only the element
ID, not the usual "topicid/elementid" syntax that is required for
most other DITA references. The <a xmlns:functx="http://www.functx.com" class="- topic/xref  ajaxLink" href="langref/anchorid.html" title="The &lt;anchorid&gt; element allows an author to define a conref target that will be resolved dynamically when rendered for an end user of the content. This element is useful when doing an initial process of the DITA content prior to final rendering of the content; it causes specified IDs to be preserved after that process, and conref relationships that reuse the element will not be resolved during the initial process.">&lt;anchorid&gt;</a> topic
explains the format in detail.</div>
<p class="p">One possible way to use this
is with a system that renders DITA dynamically. A user may process
information locally in a way that resolves conref for all static information,
while delaying resolution for information that is subject to change.
The exportanchors element is used to define conref values that are
delayed.</p>
<p class="p">Another potential use is when DITA is used as the source
format for a publishing system that is able to render information
dynamically. In this case some conref values may be resolved, while
leaving pre-selected values to be resolved live in that publishing
system.</p>
<p class="p" id="exportanchors__disclaimer">Many publishing systems for which DITA
is used as a source format do not have a way to dynamically resolve
content references; those systems will not see any benefit from this
element. When DITA is used for those systems, behaviors related to
this element should be ignored.</p>
</div>

<div class="section" id="exportanchors__contains"><h2 class="title sectiontitle">Contains</h2><div class="note note"><span class="notetitle">Note:</span> These models represent only the default document types distributed by OASIS.
Actual content models will differ with each new document type.</div>
<table cellpadding="4" cellspacing="0" summary="" border="1" class="simpletable"><tr class="sthead"><th valign="bottom" align="left" id="d195774e58" class="stentry" width="22.22222222222222%">Doctype</th>
<th valign="bottom" align="left" id="d195774e60" class="stentry" width="77.77777777777777%">Content model</th>
</tr>
<tr class="strow">
<td valign="top" id="d195774e65" headers="d195774e58" class="stentry"><strong>map, bookmap, classifyMap, learningBookmap, learningMap</strong></td>

<td valign="top" headers="d195774e60 d195774e65" class="stentry"> (<a xmlns:functx="http://www.functx.com" class="- topic/xref  ajaxLink" href="langref/anchorid.html" title="The &lt;anchorid&gt; element allows an author to define a conref target that will be resolved dynamically when rendered for an end user of the content. This element is useful when doing an initial process of the DITA content prior to final rendering of the content; it causes specified IDs to be preserved after that process, and conref relationships that reuse the element will not be resolved during the initial process.">anchorid</a> or <a xmlns:functx="http://www.functx.com" class="- topic/xref  ajaxLink" href="langref/anchorkey.html" title="The &lt;anchorkey&gt; element allows an author to define a conref target that will be resolved dynamically when rendered for an end user of the content. This element is useful when doing an initial process of the DITA content prior to final rendering of the content; it allows specified keys to be preserved after that process, and conref relationships which use that key will not be resolved during that initial process.">anchorkey</a>) <em class="ph i"> (any number) </em></td>
</tr>
</table>
</div>

<div class="section" id="exportanchors__containedby"><h2 class="title sectiontitle">Contained by</h2><table cellpadding="4" cellspacing="0" summary="" border="1" class="simpletable"><tr class="sthead"><th valign="bottom" align="left" id="d195774e98" class="stentry" width="22.22222222222222%">Doctype</th>
<th valign="bottom" align="left" id="d195774e100" class="stentry" width="77.77777777777777%">Content model</th>
</tr>
<tr class="strow">
<td valign="top" id="d195774e105" headers="d195774e98" class="stentry"><strong>map (base), map (technical content), classifyMap, learningMap</strong></td>

<td valign="top" headers="d195774e100 d195774e105" class="stentry"><a xmlns:functx="http://www.functx.com" class="- topic/xref  ajaxLink" href="langref/metadata.html" title="The &lt;metadata&gt; section of the prolog contains information about a topic such as audience and product information. Metadata can be used by computational processes to select particular topics or to prepare search indexes or to customize navigation. Elements inside of &lt;metadata&gt; provide information about the content and subject of a topic; prolog elements outside of &lt;metadata&gt; provide lifecycle information for the content unit (such as the author or copyright), which are unrelated to the subject.">metadata</a>, <a xmlns:functx="http://www.functx.com" class="- topic/xref  ajaxLink" href="langref/topicmeta.html" title="The &lt;topicmeta&gt; element defines the metadata that applies to a topic when it appears in a map. When appropriate, that metadata also applies to the other topics in the map that are contained by the same element that contains the &lt;topicmeta&gt; element. When creating links, &lt;topicmeta&gt; content can also be used to override the title and short description that are used for the link. In addition, it can be used to add index entries to referenced content using the &lt;keywords&gt; element.">topicmeta</a></td>
</tr>
<tr class="strow">
<td valign="top" id="d195774e140" headers="d195774e98" class="stentry"><strong>bookmap, learningBookmap</strong></td>

<td valign="top" headers="d195774e100 d195774e140" class="stentry"><a xmlns:functx="http://www.functx.com" class="- topic/xref  ajaxLink" href="langref/metadata.html" title="The &lt;metadata&gt; section of the prolog contains information about a topic such as audience and product information. Metadata can be used by computational processes to select particular topics or to prepare search indexes or to customize navigation. Elements inside of &lt;metadata&gt; provide information about the content and subject of a topic; prolog elements outside of &lt;metadata&gt; provide lifecycle information for the content unit (such as the author or copyright), which are unrelated to the subject.">metadata</a>, <a xmlns:functx="http://www.functx.com" class="- topic/xref  ajaxLink" href="langref/topicmeta.html" title="The &lt;topicmeta&gt; element defines the metadata that applies to a topic when it appears in a map. When appropriate, that metadata also applies to the other topics in the map that are contained by the same element that contains the &lt;topicmeta&gt; element. When creating links, &lt;topicmeta&gt; content can also be used to override the title and short description that are used for the link. In addition, it can be used to add index entries to referenced content using the &lt;keywords&gt; element.">topicmeta</a>, <a xmlns:functx="http://www.functx.com" class="- topic/xref  ajaxLink" href="langref/bookmeta.html" title="The &lt;bookmeta&gt; element contains information about the book that is not considered book content, such as copyright information, author information, and any classifications.">bookmeta</a></td>
</tr>
</table>
</div>

<div class="section" id="exportanchors__inheritance"><h2 class="title sectiontitle">Inheritance</h2><p class="p">+
topic/keywords delay-d/exportanchors </p>
</div>


<div class="example" id="exportanchors__example"><h2 class="title sectiontitle">Example</h2><div class="fig fignone"><span class="figcap">Figure 1. Use case 1:
Runtime resolution of conref to an id, determined by original author</span>
<ol class="ol">
<li class="li">Author 1 creates topics for information component A, which is
a common component used by many products. The configuration task for
component A is often reused in whole or in part, so the author assigns
ids to each of the steps in the procedure and exports them. <pre class="pre codeblock">&lt;task id="configA"&gt;
  &lt;title&gt;ABC&lt;title&gt;
  &lt;shortdesc&gt;...&lt;/shortdesc&gt;
  &lt;prolog&gt;&lt;metadata&gt;
    &lt;exportanchors&gt;
      &lt;anchorid id="step1"/&gt;
      &lt;anchorid id="step2"/&gt;
      &lt;anchorid id="step3"/&gt;
    &lt;/exportanchors&gt;
  &lt;/metadata&gt;&lt;/prolog&gt;
  &lt;taskbody&gt;
    &lt;steps&gt;
      &lt;step id="step1"&gt;&lt;cmd&gt;Do this&lt;/cmd&gt;&lt;/step&gt;
      &lt;step id="step2"&gt;&lt;cmd&gt;Do the other&lt;/cmd&gt;&lt;/step&gt;
      &lt;step id="step3"&gt;&lt;cmd&gt;And then finish&lt;/cmd&gt;&lt;/step&gt;
    &lt;/steps&gt;
  &lt;/taskbody&gt;
&lt;/task&gt;</pre>
</li>

<li class="li">Author 2 is working on information component B, which has information
component A as a prerequisite.</li>

<li class="li">Author 2 creates a configuration task that reuses two steps from
the configuration task in information component A.<pre class="pre codeblock">&lt;task id="configB"&gt;
  &lt;title&gt;..&lt;/title&gt;
  &lt;shortdesc&gt;..&lt;/shortdesc&gt;
  &lt;taskbody&gt;
    &lt;steps&gt;
      &lt;step&gt;&lt;cmd&gt;Do the very first thing&lt;/cmd&gt;&lt;/step&gt;
      &lt;step conref="componentA/configA.dita#configA/step1"&gt;&lt;cmd/&gt;&lt;/step&gt;
      &lt;step&gt;&lt;cmd&gt;Do the middle thing&lt;/cmd&gt;&lt;/step&gt;
      &lt;step conref="componentA/configA.dita#configA/step2"&gt;&lt;cmd/&gt;&lt;/step&gt;
    &lt;/steps&gt;
  &lt;/taskbody&gt;
&lt;/task&gt;</pre>
</li>

<li class="li">Author 2 builds the content for component B into a deliverable
format that supports dynamic content resolution. As with traditional
conref, the source for component A must be available during this process.
Because the ids in configA are exported, the build process knows to
preserve the reuse relationship rather than resolve it - so the conref
to the steps becomes an equivalent reuse artifact in that deliverable
format. This way the relationship to component A can be resolved at
runtime, and pick up the user's version of component A, which may
be more up-to-date than the one used by Author 2 when component B
was built.</li>

</ol>

</div>
<div class="fig fignone"><span class="figcap">Figure 2. Use case 2: Runtime resolution to an id exported
by the information builder</span>
<ol class="ol">
<li class="li">Author 1 is creating content that will be packaged into multiple
deliverable components. In one of those components, component A, the
ids should be exported for runtime reuse by other components. In other
components, the ids should not be exported because all reuse is local
(for example, the output is a single infocenter, or a helpset that
has only one component).</li>

<li class="li">When author 1 builds component A, the author uses a map that exports
the ids, rather than exporting the ids from the topic prolog. <pre class="pre codeblock">&lt;map&gt;
  &lt;topicref href="componentA/configA.dita"&gt;
    &lt;topicmeta&gt;
      &lt;exportanchors&gt;
        &lt;anchorid id="step1"/&gt;
        &lt;anchorid id="step2"/&gt;
        &lt;anchorid id="step3"/&gt;
      &lt;/exportanchors&gt;
    &lt;/topicmeta&gt;
  &lt;/topicref&gt;
&lt;/map&gt;</pre>
</li>

<li class="li">The rest of the use case is the same as previous - the conref
is passed on to the runtime/display format to deal with, rather than
being resolved during native DITA processing.</li>

</ol>

</div>
<div class="fig fignone"><span class="figcap">Figure 3. Delaying resolution for a topic</span>
<p class="p">The ID on an &lt;anchorid&gt; element is first compared with the topic's
id, and then with elements inside that topic. This results in the
following situation.</p>

<pre class="pre codeblock">&lt;map&gt;
  &lt;topicref href="componentA/this.dita"&gt;
    &lt;topicmeta&gt;
      &lt;exportanchors&gt;
        &lt;anchorid id="this"/&gt;
        &lt;anchorid id="that"/&gt;
      &lt;/exportanchors&gt;
    &lt;/topicmeta&gt;
  &lt;/topicref&gt;
&lt;/map&gt;

&lt;topic id="this"&gt;
  &lt;title&gt;This and that&lt;/title&gt;
  &lt;shortdesc&gt;Oh, you know, this and that.&lt;/shortdesc&gt;
  &lt;body&gt;
    &lt;fig id="that"&gt;&lt;p&gt;more of that&lt;/p&gt;&lt;/fig&gt;
  &lt;/body&gt;
&lt;/topic&gt;</pre>

<ul class="ul">
<li class="li">The first ID to be exported is "this", which matches the topic
id, so resolution of conref values that target the topic should be
delayed.</li>

<li class="li">The second value is "that", which matches a figure within the
topic, so resolution of conref values that target the figure should
be delayed.</li>

<li class="li">Note that if the "this" is also used within the topic (which is
legal from a DITA perspective), it will not be possible to export
that id, because processors will match on the topic's id first.</li>

</ul>

</div>
</div>

<div class="example"><h2 class="title sectiontitle">Example</h2><p class="p">In this example, a
set of information contains multiple components. Some references to
component A use keys rather than a direct reference, so that conref
can be redirected to a different component when component A is not
installed. The keys may be exported, in addition to the IDs, so that
some references become bound to the actual component while other references
may be redirected.</p>
<pre class="pre codeblock">&lt;map&gt;
  &lt;topicref keys="componentAconfig commonconfig" 
            href="componentA/configA.dita#configA"&gt;
    &lt;topicmeta&gt;
      &lt;exportanchors&gt;
        &lt;anchorkey keyref="commonconfig"/&gt;
        &lt;anchorid id="step1"/&gt;
        &lt;anchorid id="step2"/&gt;
      &lt;/exportanchors&gt;
    &lt;/topicmeta&gt;
  &lt;/topicref&gt;
&lt;/map&gt;</pre>
<p class="p">The keys attributes declares two distinct
keys that may be used to refer to this topic (componentAconfig and
commonconfig). Only the second is preserved using anchorkey. A task
topic from another component may reuse steps within this topic in
a variety of ways.</p>
<pre class="pre codeblock">&lt;steps&gt;
  &lt;step conkeyref="componentAconfig/step1"&gt;&lt;cmd/&gt;&lt;/step&gt;
  &lt;step conkeyref="componentAconfig/step1.5"&gt;&lt;cmd/&gt;&lt;/step&gt;
  &lt;step conkeyref="commonconfig/step2"&gt;&lt;cmd/&gt;&lt;/step&gt;
  &lt;step conkeyref="commonconfig/step2.5"&gt;&lt;cmd/&gt;&lt;/step&gt;
  &lt;step&gt;&lt;cmd&gt;And that is the end of that&lt;/cmd&gt;
&lt;/steps&gt;</pre>
<ul class="ul">
<li class="li">The componentAconfig key is not preserved, so the first step becomes <samp class="ph codeph">&lt;step
conref="componentA/configA.dita#configA/step1"&gt;&lt;cmd/&gt;&lt;/step&gt;</samp>.
At that point the anchorid element instructs the step1 ID to be preserved;
for runtime applications which support it, this relationship will
be preserved in the processed DITA output.</li>

<li class="li">The second step with the same key becomes <samp class="ph codeph">&lt;step conref="componentA/configA.dita#configA/step1.5"&gt;&lt;cmd/&gt;&lt;/step&gt;</samp>.
However, conref relationships to step1.5 are not preserved, so this
conref should be resolved into static content.</li>

<li class="li">For step three, the map instructs that both the key commonconfig
and the ID step2 should be preserved in any content generated for
this DITA topic. For formats that support runtime resolution through
keys, a process must convert the conkeyref value into an equivalent
value for that format.</li>

<li class="li">Although resolution for the key used in step four is delayed,
the specific element that is referenced should not be delayed. Thus
the fourth step becomes <samp class="ph codeph">&lt;step conref="componentA/configA.dita#configA/step2.5"&gt;&lt;cmd/&gt;&lt;/step&gt;</samp>.
This value is then processed as an ordinary conref value.</li>

</ul>
<p class="p">This allows the information assembler to resolve references
that must be to componentA while deferring references that can be
fulfilled by alternative component content.</p>
<div class="note note"><span class="notetitle">Note:</span> This example
demonstrates why the anchorid element cannot reference an element
with the usual topicid/elementid format. If the two anchorid elements
in the example had been set to config/step1 and config/step2, then
they would only ever apply in a topic with id="config". It would not
be possible to redirect the key to another topic, but still preserve
conref behaviors as desired.</div>
<div class="note note"><span class="notetitle">Note:</span> Although it
is not specifically called out in this example, it is possible to
delay conref resolution for an entire topic using the key. If conkeyref
on a task topic element is set to "componentAconfig", which <em class="ph i">is
not</em> delayed, the conref will be evaluated as usual. However, if
conkeyref on the task is set to "commonconfig", which <em class="ph i">is</em> delayed,
resolution of conref on that element should be delayed by a processor.</div>
</div>

<div class="section" id="exportanchors__attributes"><h2 class="title sectiontitle">Attributes</h2><table cellpadding="4" cellspacing="0" summary="" id="exportanchors__keywords_attr" border="1" class="simpletable"><tr class="sthead">
<th valign="bottom" align="left" id="d195774e309" class="stentry" width="25%">Name</th>

<th valign="bottom" align="left" id="d195774e312" class="stentry" width="37.5%">Description</th>

<th valign="bottom" align="left" id="d195774e315" class="stentry" width="12.5%">Data Type</th>

<th valign="bottom" align="left" id="d195774e318" class="stentry" width="12.5%">Default Value</th>

<th valign="bottom" align="left" id="d195774e321" class="stentry" width="12.5%">Required?</th>

</tr>
<tr class="strow"> 
			 <td valign="top" headers="d195774e309" class="stentry">univ-atts attribute group (includes select-atts, id-atts,
				and localization-atts groups)</td>
 
			 <td valign="top" headers="d195774e312" class="stentry">A set of related attributes, described in 
				<a xmlns:functx="http://www.functx.com" class="- topic/xref  ajaxLink" href="langref/../common/univ-atts.html" title="The &#34;univ-atts&#34; attribute group defines a set of common attributes available on most DITA elements.">univ-atts attribute group</a></td>
 
			 <td valign="top" headers="d195774e315" class="stentry"> </td>
 
			 <td valign="top" headers="d195774e318" class="stentry"> </td>
 
			 <td valign="top" headers="d195774e321" class="stentry"> </td>
 
		  </tr>
<tr class="strow"> 
			 <td valign="top" headers="d195774e309" class="stentry">global-atts attribute group (xtrf, xtrc)</td>
 
			 <td valign="top" headers="d195774e312" class="stentry">A set of related attributes, described in 
				<a xmlns:functx="http://www.functx.com" class="- topic/xref  ajaxLink" href="langref/../common/global-atts.html" title="The &#34;global-atts&#34; attribute group includes a set of debugging attributes that are normally hidden from authoring view.">global-atts attribute group</a></td>
 
			 <td valign="top" headers="d195774e315" class="stentry"> </td>
 
			 <td valign="top" headers="d195774e318" class="stentry"> </td>
 
			 <td valign="top" headers="d195774e321" class="stentry"> </td>
 
		  </tr>
<tr class="strow"> 
			 <td valign="top" headers="d195774e309" class="stentry">class</td>
 
			 <td valign="top" headers="d195774e312" class="stentry">A common attribute described in 
				<a xmlns:functx="http://www.functx.com" class="- topic/xref  ajaxLink" href="langref/../common/othercommon.html" title="The following attributes are not part of an entity group but are common to many elements.">Other common DITA attributes</a></td>
 
			 <td valign="top" headers="d195774e315" class="stentry"> </td>
 
			 <td valign="top" headers="d195774e318" class="stentry"> </td>
 
			 <td valign="top" headers="d195774e321" class="stentry"> </td>
 
		  </tr>
</table>
</div>

</div>

<div xmlns:functx="http://www.functx.com" class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="- topic/link  ajaxLink" href="langref/../common/delayconref-d.html" title="The delayed conref resolution domain provides several elements for use when using DITA in situations that enable delayed or run time resolution of conref. The elements allow users to resolve some conref values statically, while delaying others for later resolution.">Delayed conref resolution elements</a></div>
<div class="nextlink"><strong>Next topic:</strong> <a class="- topic/link  ajaxLink" href="langref/../langref/anchorid.html" title="The &lt;anchorid&gt; element allows an author to define a conref target that will be resolved dynamically when rendered for an end user of the content. This element is useful when doing an initial process of the DITA content prior to final rendering of the content; it causes specified IDs to be preserved after that process, and conref relationships that reuse the element will not be resolved during the initial process.">anchorid</a></div>
</div>
</div>

</body>
</html>