<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="reference"/>
<meta name="DC.Title" content="anchorkey"/>
<meta name="abstract" content="The &lt;anchorkey&gt; element allows an author to define a conref target that will be resolved dynamically when rendered for an end user of the content. This element is useful when doing an initial process of the DITA content prior to final rendering of the content; it allows specified keys to be preserved after that process, and conref relationships which use that key will not be resolved during that initial process."/>
<meta name="description" content="The &lt;anchorkey&gt; element allows an author to define a conref target that will be resolved dynamically when rendered for an end user of the content. This element is useful when doing an initial process of the DITA content prior to final rendering of the content; it allows specified keys to be preserved after that process, and conref relationships which use that key will not be resolved during that initial process."/>
<meta name="DC.subject" content="anchorkey"/>
<meta name="keywords" content="anchorkey"/>
<meta name="DC.Relation" scheme="URI" content="../common/delayconref-d.html"/>
<meta name="DC.Relation" scheme="URI" content="../langref/anchorid.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="anchorkey"/>
<meta name="DC.Language" content="en-us"/>
<title>anchorkey</title>
</head>
<body id="anchorkey">


<h1 class="title topictitle1">anchorkey</h1>



<div class="body refbody"><p class="shortdesc">The &lt;<span class="keyword">anchorkey</span>&gt; element allows an
author to define a conref target that will be resolved dynamically
when rendered for an end user of the content. This element is useful
when doing an initial process of the DITA content prior to final rendering
of the content; it allows specified keys to be preserved after that
process, and conref relationships which use that key will not be resolved
during that initial process.</p>

<div class="section"><p class="p">When a keyref attribute is specified on an anchorkey element,
it indicates that any conref relationships using that key will not
be resolved. Applications that support run-time resolution of conref
with keys will then be able to dynamically resolve this conref at
display time.</p>
<p class="p">There is no difference between specifying anchorkey
within a map (in topicmeta) and specifying anchorkey within a topic.
In both cases, processors are instructed to delay resolution of that
key for the current set of information. However, the best practice
is to only use anchorkey within a map. If it is specified in a topic,
that topic will define a usage for the key for every user of that
topic. This makes the topic less portable, because users that do not
want to delay resolution of that specific key will not be able to
include the topic in their information.</p>
<p class="p">Many publishing systems for which DITA
is used as a source format do not have a way to dynamically resolve
content references; those systems will not see any benefit from this
element. When DITA is used for those systems, behaviors related to
this element should be ignored.</p>
</div>

<div class="section" id="anchorkey__contains"><h2 class="title sectiontitle">Contains</h2><div class="note note"><span class="notetitle">Note:</span> These models represent only the default document types distributed by OASIS.
Actual content models will differ with each new document type.</div>
<table cellpadding="4" cellspacing="0" summary="" border="1" class="simpletable"><tr class="sthead"><th valign="bottom" align="left" id="d66944e43" class="stentry" width="22.22222222222222%">Doctype</th>
<th valign="bottom" align="left" id="d66944e45" class="stentry" width="77.77777777777777%">Content model</th>
</tr>
<tr class="strow">
<td valign="top" id="d66944e50" headers="d66944e43" class="stentry"><strong>map, bookmap, classifyMap, learningBookmap, learningMap</strong></td>

<td valign="top" headers="d66944e45 d66944e50" class="stentry"> no content </td>
</tr>
</table>
</div>

<div class="section" id="anchorkey__containedby"><h2 class="title sectiontitle">Contained by</h2><table cellpadding="4" cellspacing="0" summary="" border="1" class="simpletable"><tr class="sthead"><th valign="bottom" align="left" id="d66944e61" class="stentry" width="22.22222222222222%">Doctype</th>
<th valign="bottom" align="left" id="d66944e63" class="stentry" width="77.77777777777777%">Content model</th>
</tr>
<tr class="strow">
<td valign="top" id="d66944e68" headers="d66944e61" class="stentry"><strong>map (base), map (technical content), bookmap, classifyMap, learningBookmap, learningMap</strong></td>

<td valign="top" headers="d66944e63 d66944e68" class="stentry"><a xmlns:functx="http://www.functx.com" class="- topic/xref  ajaxLink" href="langref/exportanchors.html" title="The &lt;exportanchors&gt; element is used to delay conref resolution within DITA documents. This allows you to process or display DITA content in a way that will resolve only some of the conref values in that content, while remaining values are left for later resolution. The element contains a list of IDs or keys that should not be resolved during the initial preparation of the content for display; those IDs and keys will be preserved after that preparation, as will the conref relationship itself.">exportanchors</a></td>
</tr>
</table>
</div>

<div class="section" id="anchorkey__inheritance"><h2 class="title sectiontitle">Inheritance</h2><p class="p">+
topic/keyword delay-d/anchorkey </p>
</div>

<div class="example" id="anchorkey__example"><h2 class="title sectiontitle">Example</h2><p class="p">In this example, a
set of information contains multiple components. Some references to
component A use keys rather than a direct reference, so that conref
can be redirected to a different component when component A is not
installed. The keys may be exported, in addition to the IDs, so that
some references become bound to the actual component while other references
may be redirected.</p>
<pre class="pre codeblock">&lt;map&gt;
  &lt;topicref keys="componentAconfig commonconfig" 
            href="componentA/configA.dita#configA"&gt;
    &lt;topicmeta&gt;
      &lt;exportanchors&gt;
        &lt;anchorkey keyref="commonconfig"/&gt;
        &lt;anchorid id="step1"/&gt;
        &lt;anchorid id="step2"/&gt;
      &lt;/exportanchors&gt;
    &lt;/topicmeta&gt;
  &lt;/topicref&gt;
&lt;/map&gt;</pre>
<p class="p">The keys attributes declares two distinct
keys that may be used to refer to this topic (componentAconfig and
commonconfig). Only the second is preserved using anchorkey. A task
topic from another component may reuse steps within this topic in
a variety of ways.</p>
<pre class="pre codeblock">&lt;steps&gt;
  &lt;step conkeyref="componentAconfig/step1"&gt;&lt;cmd/&gt;&lt;/step&gt;
  &lt;step conkeyref="componentAconfig/step1.5"&gt;&lt;cmd/&gt;&lt;/step&gt;
  &lt;step conkeyref="commonconfig/step2"&gt;&lt;cmd/&gt;&lt;/step&gt;
  &lt;step conkeyref="commonconfig/step2.5"&gt;&lt;cmd/&gt;&lt;/step&gt;
  &lt;step&gt;&lt;cmd&gt;And that is the end of that&lt;/cmd&gt;
&lt;/steps&gt;</pre>
<ul class="ul">
<li class="li">The componentAconfig key is not preserved, so the first step becomes <samp class="ph codeph">&lt;step
conref="componentA/configA.dita#configA/step1"&gt;&lt;cmd/&gt;&lt;/step&gt;</samp>.
At that point the anchorid element instructs the step1 ID to be preserved;
for runtime applications which support it, this relationship will
be preserved in the processed DITA output.</li>

<li class="li">The second step with the same key becomes <samp class="ph codeph">&lt;step conref="componentA/configA.dita#configA/step1.5"&gt;&lt;cmd/&gt;&lt;/step&gt;</samp>.
However, conref relationships to step1.5 are not preserved, so this
conref should be resolved into static content.</li>

<li class="li">For step three, the map instructs that both the key commonconfig
and the ID step2 should be preserved in any content generated for
this DITA topic. For formats that support runtime resolution through
keys, a process must convert the conkeyref value into an equivalent
value for that format.</li>

<li class="li">Although resolution for the key used in step four is delayed,
the specific element that is referenced should not be delayed. Thus
the fourth step becomes <samp class="ph codeph">&lt;step conref="componentA/configA.dita#configA/step2.5"&gt;&lt;cmd/&gt;&lt;/step&gt;</samp>.
This value is then processed as an ordinary conref value.</li>

</ul>
<p class="p">This allows the information assembler to resolve references
that must be to componentA while deferring references that can be
fulfilled by alternative component content.</p>
<div class="note note"><span class="notetitle">Note:</span> This example
demonstrates why the anchorid element cannot reference an element
with the usual topicid/elementid format. If the two anchorid elements
in the example had been set to config/step1 and config/step2, then
they would only ever apply in a topic with id="config". It would not
be possible to redirect the key to another topic, but still preserve
conref behaviors as desired.</div>
<div class="note note"><span class="notetitle">Note:</span> Although it
is not specifically called out in this example, it is possible to
delay conref resolution for an entire topic using the key. If conkeyref
on a task topic element is set to "componentAconfig", which <em class="ph i">is
not</em> delayed, the conref will be evaluated as usual. However, if
conkeyref on the task is set to "commonconfig", which <em class="ph i">is</em> delayed,
resolution of conref on that element should be delayed by a processor.</div>
</div>

<div class="section" id="anchorkey__attributes"><h2 class="title sectiontitle">Attributes</h2><table cellpadding="4" cellspacing="0" summary="" id="anchorkey__attribute_table" border="1" class="simpletable"><tr class="sthead">
<th valign="bottom" align="left" id="d66944e144" class="stentry" width="25%">Name</th>

<th valign="bottom" align="left" id="d66944e147" class="stentry" width="37.5%">Description</th>

<th valign="bottom" align="left" id="d66944e150" class="stentry" width="12.5%">Data Type</th>

<th valign="bottom" align="left" id="d66944e153" class="stentry" width="12.5%">Default Value</th>

<th valign="bottom" align="left" id="d66944e156" class="stentry" width="12.5%">Required?</th>

</tr>
<tr class="strow"> 
			 <td valign="top" headers="d66944e144" class="stentry">keyref</td>
 
			 <td valign="top" headers="d66944e147" class="stentry">Defines a key that, when possible, should be preserved in
				content generated from the DITA source material. Conref relationships that use
				this key should not be resolved when generating that material, so that conref
				may be resolved at run-time when an end user is reading the content.</td>
 
			 <td valign="top" headers="d66944e150" class="stentry">NMTOKEN</td>
 
			 <td valign="top" headers="d66944e153" class="stentry">#REQUIRED</td>
 
			 <td valign="top" headers="d66944e156" class="stentry">Yes</td>
 
		  </tr>
<tr class="strow"> 
			 <td valign="top" headers="d66944e144" class="stentry">univ-atts attribute group (includes select-atts, id-atts,
				and localization-atts groups)</td>
 
			 <td valign="top" headers="d66944e147" class="stentry">A set of related attributes, described in 
				<a xmlns:functx="http://www.functx.com" class="- topic/xref  ajaxLink" href="langref/../common/univ-atts.html" title="The &#34;univ-atts&#34; attribute group defines a set of common attributes available on most DITA elements.">univ-atts attribute group</a></td>
 
			 <td valign="top" headers="d66944e150" class="stentry"> </td>
 
			 <td valign="top" headers="d66944e153" class="stentry"> </td>
 
			 <td valign="top" headers="d66944e156" class="stentry"> </td>
 
		  </tr>
<tr class="strow"> 
			 <td valign="top" headers="d66944e144" class="stentry">class, outputclass</td>
 
			 <td valign="top" headers="d66944e147" class="stentry">Common attributes described in 
				<a xmlns:functx="http://www.functx.com" class="- topic/xref  ajaxLink" href="langref/../common/othercommon.html" title="The following attributes are not part of an entity group but are common to many elements.">Other common DITA attributes</a></td>
 
			 <td valign="top" headers="d66944e150" class="stentry"> </td>
 
			 <td valign="top" headers="d66944e153" class="stentry"> </td>
 
			 <td valign="top" headers="d66944e156" class="stentry"> </td>
 
		  </tr>
<tr class="strow"> 
			 <td valign="top" headers="d66944e144" class="stentry">global-atts attribute group (xtrf, xtrc)</td>
 
			 <td valign="top" headers="d66944e147" class="stentry">A set of related attributes, described in 
				<a xmlns:functx="http://www.functx.com" class="- topic/xref  ajaxLink" href="langref/../common/global-atts.html" title="The &#34;global-atts&#34; attribute group includes a set of debugging attributes that are normally hidden from authoring view.">global-atts attribute group</a></td>
 
			 <td valign="top" headers="d66944e150" class="stentry"> </td>
 
			 <td valign="top" headers="d66944e153" class="stentry"> </td>
 
			 <td valign="top" headers="d66944e156" class="stentry"> </td>
 
		  </tr>
</table>
</div>

</div>

<div xmlns:functx="http://www.functx.com" class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="- topic/link  ajaxLink" href="langref/../common/delayconref-d.html" title="The delayed conref resolution domain provides several elements for use when using DITA in situations that enable delayed or run time resolution of conref. The elements allow users to resolve some conref values statically, while delaying others for later resolution.">Delayed conref resolution elements</a></div>
<div class="previouslink"><strong>Previous topic:</strong> <a class="- topic/link  ajaxLink" href="langref/../langref/anchorid.html" title="The &lt;anchorid&gt; element allows an author to define a conref target that will be resolved dynamically when rendered for an end user of the content. This element is useful when doing an initial process of the DITA content prior to final rendering of the content; it causes specified IDs to be preserved after that process, and conref relationships that reuse the element will not be resolved during the initial process.">anchorid</a></div>
</div>
</div>

</body>
</html>